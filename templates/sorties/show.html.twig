{% extends 'base.html.twig' %}

    {% block title %}Sorties{% endblock %}

    {% block body %}
        <h1 class="text-center">Afficher une sortie</h1>
        <br>
        <div class="d-flex flex-column m-5" >
            <input  type="hidden" id="id" name="id" value={{ sortie.id }} disabled/>

            <div class="row align-items-start">
                <div class="col align-items-start ">
                    <label for="nom">Nom de la sortie :  </label>
                </div>
                <div class="col align-items-start">
                    <input type="text" id="nom" name="nom" value={{ sortie.nom }} disabled/>
                </div>

                <div class="col align-items-start">
                    <label for="lieux">Lieux :</label>
                </div>
                <div class="col align-items-start">
                    <input type="text" id="lieux" name="lieux" value={{ sortie.lieux.nomLieu }} disabled/>
                </div>
            </div>

            <div class="row align-items-start">
                <div class="col align-items-start">
                    <label for="dateSortie">Date et heure  :</label>
                </div>
                <div class="col align-items-start">
                    <input type="text" id="dateSortie" name="dateSortie" value={{ sortie.dateDebut ? sortie.dateDebut|date('d-m-Y H:i:s') : ''  }} disabled/>
                </div>
                <div class="col align-items-start">
                    <label for="rue">Rue :</label>
                </div>
                <div class="col align-items-start">
                    <input type="text" id="rue" name="rue" value={{ sortie.lieux.rue }} disabled/>
                </div>
            </div>

            <div class="row align-items-start">
                <div class="col">
                    <label for="dateLimite">Date limite inscription :</label>
                </div>
                <div class="col align-items-start">
                    <input type="text" id="dateLimite" name="dateLimite" value={{ sortie.dateCloture ? sortie.dateCloture|date('d-m-Y H:i:s') : ''  }} disabled/>
                </div>
                <div class="col">
                    <label for="ville">Ville :</label>
                </div>
                <div class="col align-items-start">
                    <input type="text" id="ville" name="ville" value={{ sortie.lieux.ville.nomVille }} disabled/>
                </div>
            </div>

            <div class="row align-items-start">
                <div class="col">
                    <label for="nbPlace">Nombre de places :</label>
                </div>
                <div class="col align-items-start">
                    <input type="text" id="nbPlace" name="nbPlace" value={{ sortie.nbInscriptionsMax }} disabled/>
                </div>
                <div class="col">
                    <label for="cdPostal">code postal :</label>
                </div>
                <div class="col align-items-start">
                    <input type="text" id="cdPostal" name="cdPostal" value={{ sortie.lieux.ville.codePostal }} disabled/>
                </div>
            </div>

            <div class="row align-items-start">
                <div class="col">
                    <label for="duree">Durée :</label>
                </div>
                <div class="col align-items-start">
                    <input type="text" id="duree" name="duree" value={{ sortie.duree }} disabled/>
                </div>
                <div class="col align-items-start">
                    <label for="latitude">Latitude :</label>
                </div>
                <div class="col align-items-start">
                    <input type="text" id="latitude" name="latitude" value={{ sortie.lieux.latitude }} disabled/>
                </div>
            </div>

            <div class="row align-items-start">
                <div class="col align-items-start">
                    <label for="desc">Description et info :</label>
                </div>
                <div class="col align-items-start">
                    <input type="text" id="desc" name="desc" value={{ sortie.descriptionInfos }} disabled/>
                </div>
                <div class="col align-items-start">
                    <label for="longitude">longitude :</label>
                </div>
                <div class="col align-items-start">
                    <input type="text" id="longitude" name="longitude" value={{ sortie.lieux.longitude }} disabled/>
                </div>
            </div>

            <br>

            <h2 class=" text-sm-start fs-4"> Liste des participant à la sortie :</h2>

            <div class = "m-10"></div>
            <table class=" tabledetail table table-striped table-hover table-fixed table-bordered ">
                <thead class="thead-dark">
                <tr>
                    <th class="text-sm-start col-md-5">Pseudo </th>
                    <th class="text-sm-start col-md-5">Nom </th>
                    <th class="text-sm-start col-md-5"> </th>
                </tr>
                </thead>
                <tbody>
                {% for user in sortie.users %}
                    <tr>
                        <input  type="hidden" id="id" name="id" value={{ user.id }} disabled/>
                        <td class="text-sm-start col-md-5">{{ user.pseudo }}</td>
                        <td class=" text-sm-start col-md-5">{{ user.nom }} {{ user.prenom }}</td>
                        <td class=" text-sm-start col-md-5"> <a class="btn btn-outline-danger" href="{{ path('_desincription',{'idSortie' :sortie.id,'idUser':user.id})}}">&#x1F5D1;</a></td>
                    </tr>
                {% endfor %}
                <tr>
                    <td class="text-sm-start col-md-5"></td>
                    <td class=" text-sm-start col-md-5"></td>
                    {# % if app.user %#}
                    <td class=" text-sm-start col-md-5"> <a class="btn btn-outline-info" href="{{ path('_inscription',{'idSortie' :sortie.id,'idUser':app.user.id})}}">s'inscrire</a></td>
                    {# % endif %#}
                </tr>
                </tbody>
            </table>
        </div>
        </div>



        <a class="btn btn-outline-info btn-sm" href="{{ path('app_sorties_index') }}">Retour à la liste</a>
        <a class="btn btn-outline-info btn-sm" href="{{ path('app_sorties_edit', {'id': sortie.id}) }}">Modification</a>
        <br>
        {{ include('sorties/_delete_form.html.twig') }}

    {% endblock %}
